{% extends "layouts/form.html" %}
{% block pagewrapper %}
		<!-- Exportable Table -->
		<div class="row clearfix"> 
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> 
				<div class="card"> 
					<div class="header"> 
						<h2> View Issuers  </h2>
					 </div>
				<div>
				<div class="body"> 
					<div class="row form-group"> 
						<div class="col-sm-6">  
							<label class="col-sm-4"> Issuer Name </label>
							<span> {{bank.bankname}} <span>
						 </div>
						<div class="col-sm-6">  
							<label class="col-sm-4">  Issuer Logo  </label>
							<span class="image"><img src="{{bank.banklogo}}" width="100px"></span>
						 </div>
					 </div>
					

					<div class="row form-group"> 
						<div class="col-sm-6">  
							<label class="col-sm-4"> Web Site</label>
							<span> {{bank.website}} <span>
						 </div>
						<div class="col-sm-6">  
							<label class="col-sm-4"> Toll Free </label>
							<span> {{bank.tollfree}} <span>
						 </div>
					 </div>

			<!--		<div class="row form-group"> 
						<div class="col-sm-6">  
							<label class="col-sm-4">  Address </label>
							<span> {{users.address}} <span>
						 </div>
						<div class="col-sm-6">  
							<label class="col-sm-4"> Gender </label>
							<span> {{users.gender}} <span>
						 </div>
					 </div>-->


				 </div>
			 </div>
		 </div>
	 </div>

			
			<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> 
				<div class="card"> 
					<div class="header"> 
						<h2> Ratings & Reviews </h2>
					 </div>
				<div>

				<div class="body"> 

											<div class="table-responsive">
							<table id="datalist" class="table table-bordered table-striped table-hover dataTable js-basic-example">
								<thead>
									<tr>
										<th> S.No </th>
										<th> User Name</th>
										<th> Rating</th>
										<th> Review </th>
									</tr>
								</thead>
								<tbody>
									{% for rate in bank.rates  %}
									<tr id="del_{{page.id}}">
										<td>{{ loop.index }}</td>
										<td>{{ rate.user.name }}</td>
										<td class="stars">{{ rate.rate }}</td>
										<td>{{ rate.review }}</td>
									
									{% endfor %}
								</tbody>
							</table>
						</div>


			 </div>

		 </div>
	 </div>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">

<script type="text/javascript">
	 $.fn.stars = function() {
				return $(this).each(function() {

						var rating = parseInt($(this).text());

						var numStars = 5

						var fullStar = new Array(Math.floor(rating + 1)).join('<i class="fa fa-star"></i>');

						var halfStar = ((rating%1) !== 0) ? '<i class="fa fa-star-half-empty"></i>': '';

						var noStar = new Array(Math.floor(numStars + 1 - rating)).join('<i class="fa fa-star-o"></i>');

						$(this).html(fullStar + halfStar + noStar);

				});
		}

	$('.stars').stars();

</script>

{% endblock %}
